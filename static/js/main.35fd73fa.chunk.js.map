{"version":3,"sources":["util.js","components/Cart.js","components/Filter.js","components/Products.js","App.js","index.js"],"names":["formatCurrency","currency","num","Number","toFixed","toLocaleString","Cart","cartItems","this","props","length","className","map","item","src","imageURL","alt","name","price","count","onClick","removeFromCart","id","reduce","a","c","Component","Filter","value","sort","onChange","sortProducts","Products","products","product","href","addToCart","App","state","slice","setState","filter","x","alreadyInCart","forEach","push","event","target","console","log","b","data","catalog","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.35fd73fa.chunk.js","sourcesContent":["export default function formatCurrency(currency, num) {\n  return \" \" + currency + Number(num.toFixed(1).toLocaleString()) + \" \";\n}","import React, { Component } from 'react';\nimport formatCurrency from '../util';\n\nexport default class Cart extends Component {\n  render() {\n    const {cartItems} = this.props;\n    return (\n      <div>\n        {\n          cartItems.length ===0? (<div className=\"cart cart-header\">Cart is empty</div>\n           ) :(<div className=\"cart cart-header\">{cartItems.length} product(s) in cart</div>)\n        }\n      <div>\n        <div className=\"cart\">\n          <ul className=\"cart-items\">\n            {cartItems.map(item => (\n              <li key={item.id}>\n                <div>\n                  <img src={item.imageURL} alt={item.name}></img>\n                </div>\n                <div>\n                  <div>{item.name}</div>\n                  <div className=\"right\">\n                  {formatCurrency(item.currency,item.price)} x {item.count} {\" \"}\n                  <button className=\"button\" onClick={()=>this.props.removeFromCart(item)}>Remove</button>\n                  </div>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n        {cartItems.length!==0 && (\n          <div className=\"cart\">\n          <div className=\"total\">\n              <div>\n              Total: {\"$ \"}\n                {cartItems.reduce((a,c) => a + c.price*c.count, 0)}\n              </div>\n          </div>\n        </div>\n        )}\n      </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class Filter extends Component {\n  render() {\n    return <div className=\"filter\">\n      <div className=\"filter-result\">{this.props.count} Products</div>\n      <div className=\"filter-sort\">Order{\" \"}\n      <select value={this.props.sort} onChange={this.props.sortProducts}>\n        <option>Lastest</option>\n        <option value=\"lowest\">Lowest</option>\n        <option value=\"highest\">Highest</option>\n      </select>\n      </div>\n    </div>\n  }\n}","import React, { Component } from 'react';\nimport formatCurrency from '../util';\n\nexport default class Products extends Component {\n  render() {\n    return (\n      <div>\n        <ul className=\"products\">\n          {this.props.products.map(product => (\n            <li key={product.id}>\n              <div className=\"product\">\n                <a href={\"#\" + product.id}>\n                  <img src={product.imageURL} alt={product.name}></img>\n                  <p>\n                    {product.name}\n                  </p>\n                </a>\n                <div className=\"product-price\">\n                  <div>\n                    {formatCurrency(product.currency, product.price)}\n                  </div>\n                  <button onClick={()=> this.props.addToCart(product)} className=\"button primary\">\n                    Add to Cart\n                  </button>\n                </div>\n              </div>\n            </li>\n            ))}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\";\nimport Cart from \"./components/Cart\";\nimport Filter from \"./components/Filter\";\nimport Products from \"./components/Products\";\nimport data from \"./mock.json\";\n\nclass App extends React.Component {\n  constructor(){\n    super();\n    this.state = {\n      products: data.catalog,\n      cartItems: [],\n      price: \"\",\n      sort: \"\",\n    };\n  }\n\n  removeFromCart = (product) => {\n    const cartItems = this.state.cartItems.slice();\n    this.setState({cartItems:cartItems.filter(x=>x.id !== product.id)})\n  }\n\n  addToCart = (product) => {\n    const cartItems = this.state.cartItems.slice();\n    let alreadyInCart = false;\n    cartItems.forEach(item =>{\n      if(item.id === product.id){\n        item.count++;\n        alreadyInCart = true;\n      }\n    });\n    if(!alreadyInCart){\n      cartItems.push({...product, count: 1});\n    }\n    this.setState({cartItems});\n  };\n\n  sortProducts = (event) => {\n    //impl\n    const sort = event.target.value;\n    console.log(event.target.value);\n    this.setState((state) => ({\n      sort: sort,\n      products: this.state.products\n      .slice()\n      .sort((a,b) => \n        sort === \"lowest\"\n        ? a.price > b.price\n          ? 1\n          :-1\n        : sort === \"highest\"\n        ? a.price < b.price\n          ? 1\n          :-1\n        : a.id < b.id\n        ? 1\n        :-1\n      ),\n    }));\n  }\n  render(){\n    return (\n      <div className=\"grid-container\">\n        <header>\n        <h1>Ecomsur shopping cart</h1>\n        </header>\n        <main>\n          <div className=\"content\">\n            <div className=\"main\">\n            <Filter \n            count={this.state.products.length}\n            price={this.state.price}\n            sort={this.state.sort}\n            sortProducts={this.sortProducts}\n            ></Filter>\n            <Products products={this.state.products} addToCart={this.addToCart}></Products>\n            </div>\n            <div className=\"sidebar\">\n              <Cart cartItems={this.state.cartItems} removeFromCart={this.removeFromCart}/>\n            </div>\n          </div>\n        </main>\n        <footer>\n          Ecomsur technical test\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}